<div style="padding: 5px;">
    <div class="pageHeader">
       
      <div nz-row>
        <form
          nz-form
          [formGroup]="validateForm"
          class="ant-advanced-search-form"
          (ngSubmit)="submitForm()"
        >
        <div nz-row nzGutter="16">
          <div nz-col nzSpan="8">
              <div nz-row [nzGutter]="16">
                  <div nz-col [nzSpan]="24">
                    <nz-form-item nzFlex>
                        <div nz-col [nzSpan]="8">
                      <nz-form-label class="colorWhite"
                        >Subsystem
                      </nz-form-label>
                        </div>
                      <nz-form-control>
                          <div nz-col [nzSpan]="8">
                        <nz-select
                          style="width: 150px;"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a subSystem"
                          formControlName="subSystem"
                          (ngModelChange)="getEuipTypeBySubSystemAndLocation()"
                        >
                          <nz-option
                            *ngFor="let option of listSubSystem"
                            [nzLabel]="option.label"
                            [nzValue]="option.value"
                          >
                          </nz-option>
                        </nz-select>
                          </div>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
                </div>
                  
                    <div nz-row [nzGutter]="16">
                        <div nz-col [nzSpan]="24">
                          <nz-form-item nzFlex>
                              <div nz-col [nzSpan]="8">
                            <nz-form-label class="colorWhite"
                              >Equip Type
                            </nz-form-label>
                              </div>
                            <nz-form-control>
                                <div nz-col [nzSpan]="8">
                              <nz-select
                                style="width: 150px;"
                                nzShowSearch
                                nzAllowClear
                                nzPlaceHolder="Select a equipType"
                                formControlName="equipType"
                                (ngModelChange)="getAlarmDescriptionsByEquipType()"
                              >
                                <nz-option 
                                  *ngFor="let option of listEquipType"
                                  [nzLabel]="option.value"
                                  [nzValue]="option.value"
                                >
                                </nz-option>
                              </nz-select>
                                </div>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>
                      <div nz-row [nzGutter]="16">
                        <div nz-col [nzSpan]="24">
                          <nz-form-item nzFlex>
                              <div nz-col [nzSpan]="8">
                            <nz-form-label class="colorWhite"
                              >Exp Way
                            </nz-form-label>
                              </div>
                            <nz-form-control>
                                <div nz-col [nzSpan]="8">
                              <nz-select
                                style="width: 150px;"
                                nzShowSearch
                                nzAllowClear
                                nzPlaceHolder="Select a expWay"
                                formControlName="expWay"
                                (ngModelChange)="getEquipIdByexpWayAndEquipType()"
                                [nzDisabled]="expWayDisable"
                              >
                                <nz-option
                                  *ngFor="let option of listExpWay"
                                  [nzLabel]="option.label"
                                  [nzValue]="option.value"
                                >
                                </nz-option>
                              </nz-select>
                                </div>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>
                      
                        <div nz-row [nzGutter]="16">
                          <div nz-col [nzSpan]="24">
                            <nz-form-item nzFlex>
                                <div nz-col [nzSpan]="8">
                              <nz-form-label class="colorWhite"
                                >Video or Image
                              </nz-form-label>
                                </div>
                              <nz-form-control>
                                <nz-select
                                style="width: 150px;"
                                nzShowSearch
                                nzAllowClear
                                nzPlaceHolder="Select a AIType"
                                formControlName="AIType"
                              >
                                <nz-option 
                                  *ngFor="let option of listAIType"
                                  [nzLabel]="option.label"
                                  [nzValue]="option.value"
                                >
                                </nz-option>
                              </nz-select>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                        </div>
                        
                        <div nz-row [nzGutter]="16">
                          <div nz-col [nzSpan]="24">
                            <nz-form-item nzFlex>
                                <div nz-col [nzSpan]="8">
                              <nz-form-label class="colorWhite"
                                >Result Type
                              </nz-form-label>
                                </div>
                              <nz-form-control>
                                  <div nz-col [nzSpan]="8" id="resultType">
                                      <div class="equipId" style="height:100px">
                                        <ul>
                                          <li *ngFor="let item of listResultType; let idx = index" (click)="reslutType(item, $event)" [ngClass]="{'active':item.ischecked == true}" >{{item.label}}</li>
                                        </ul>
                                      </div>
                                  </div>
                              </nz-form-control>
                            </nz-form-item>
                          </div>
                        </div>
                        
          </div>
          <div nz-col nzSpan="8">
            <div nz-row nzGutter="16">
                <div nz-col [nzSpan]="24">
                    <nz-form-item nzFlex>
                      <nz-form-label class="colorWhite"
                        >Equip ID
                      </nz-form-label>
                      <nz-form-control>
                        <div class="equipId">
                          <ul>
                            <li *ngFor="let item of listEquipID; let idx = index" (click)="selectEquip(item, $event)" [ngClass]="{'active':item.ischecked == true}">{{item.label}}</li>
                          </ul>
                        </div>
                      </nz-form-control>
                    </nz-form-item>
                  </div>
            </div>
          </div>
        </div>


                  <div nz-row [nzGutter]="16">
                      <div nz-col [nzSpan]="8">
                        <nz-form-item nzFlex>
                            <div nz-col [nzSpan]="8">
                          <nz-form-label class="colorWhite"
                            >From Date
                          </nz-form-label>
                            </div>
                          <nz-form-control>
                              <div >
                              <nz-date-picker
                              [nzDisabledDate]="disabledStartDate"
                              nzShowTime
                              nzFormat="dd/MM/yyyy HH:mm:ss a"
                              formControlName="fromDate"
                              nzPlaceHolder="Start"
                              (ngModelChange)="onStartChange($event)"
                              (nzOnOpenChange)="
                                handleStartOpenChange($event)
                              "
                            >
                            </nz-date-picker>
                              </div>
                          </nz-form-control>
                        </nz-form-item>
                      </div>
                      <div nz-col [nzSpan]="8">
                          <nz-form-item nzFlex>
                            <nz-form-label class="colorWhite"
                              >To Date
                            </nz-form-label>
                            <nz-form-control>
                                <nz-date-picker
                                [nzDisabledDate]="disabledStartDate"
                                nzShowTime
                                nzFormat="dd/MM/yyyy HH:mm:ss a"
                                formControlName="toDate"
                                nzPlaceHolder="End"
                                (ngModelChange)="onStartChange($event)"
                                (nzOnOpenChange)="
                                  handleStartOpenChange($event)
                                "
                              >
                              </nz-date-picker>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                    </div>
                    <div nz-row [nzGutter]="16">
                        <div nz-col [nzSpan]="8">
                          
                        </div>
                        <div nz-col [nzSpan]="8">
                          <nz-form-item nzFlex>
                            <nz-form-label class="colorWhite"
                              >with chart
                            </nz-form-label>
                            <nz-form-control>
                                <label nz-checkbox formControlName="withChart">
                                    <span></span>
                                </label>
                            </nz-form-control>
                          </nz-form-item>
                        </div>
                      </div>
                      <div nz-col [nzSpan]="2" class="search-area">
                          <button nz-button [nzType]="'default'" style="color: #000;" (click)="showModalMiddle()" [disabled]="generate"><img src="../../../../assets/img/Images/SS_General/export.png">Generate Report</button>
                      </div>
        </form>
      </div>
    </div>
  </div>
  <ng-container>
    <emas-ai-report *ngIf="isVisibleMiddle" [isVisibleMiddle]="isVisibleMiddle" [reportValue]="reportValue" [param]="param" (closeModal)="closeModal()"></emas-ai-report>
  </ng-container>
  